using System.Text;

namespace cewno.HPACKTool;

public static partial class HuffmanTool
{
	private static readonly byte[] AllBytes =
		new byte[]
		{
			//'0' ( 48)  |00000                                         0  [ 5]
			0b_00000000,
			//'1' ( 49)  |00001                                         1  [ 5]
			0b_00001000,
			//'2' ( 50)  |00010                                         2  [ 5]
			0b_00010000,
			//'a' ( 97)  |00011                                         3  [ 5]
			0b_00011000,
			//'c' ( 99)  |00100                                         4  [ 5]
			0b_00100000,
			//'e' (101)  |00101                                         5  [ 5]
			0b_00101000,
			//'i' (105)  |00110                                         6  [ 5]
			0b_00110000,
			//'o' (111)  |00111                                         7  [ 5]
			0b_00111000,
			//'s' (115)  |01000                                         8  [ 5]
			0b_01000000,
			//'t' (116)  |01001                                         9  [ 5]
			0b_01001000,
			//' ' ( 32)  |010100                                       14  [ 6]
			0b_01010000,
			//'%' ( 37)  |010101                                       15  [ 6]
			0b_01010100,
			//'-' ( 45)  |010110                                       16  [ 6]
			0b_01011000,
			//'.' ( 46)  |010111                                       17  [ 6]
			0b_01011100,
			//'/' ( 47)  |011000                                       18  [ 6]
			0b_01100000,
			//'3' ( 51)  |011001                                       19  [ 6]
			0b_01100100,
			//'4' ( 52)  |011010                                       1a  [ 6]
			0b_01101000,
			//'5' ( 53)  |011011                                       1b  [ 6]
			0b_01101100,
			//'6' ( 54)  |011100                                       1c  [ 6]
			0b_01110000,
			//'7' ( 55)  |011101                                       1d  [ 6]
			0b_01110100,
			//'8' ( 56)  |011110                                       1e  [ 6]
			0b_01111000,
			//'9' ( 57)  |011111                                       1f  [ 6]
			0b_01111100,
			//'=' ( 61)  |100000                                       20  [ 6]
			0b_10000000,
			//'A' ( 65)  |100001                                       21  [ 6]
			0b_10000100,
			//'_' ( 95)  |100010                                       22  [ 6]
			0b_10001000,
			//'b' ( 98)  |100011                                       23  [ 6]
			0b_10001100,
			//'d' (100)  |100100                                       24  [ 6]
			0b_10010000,
			//'f' (102)  |100101                                       25  [ 6]
			0b_10010100,
			//'g' (103)  |100110                                       26  [ 6]
			0b_10011000,
			//'h' (104)  |100111                                       27  [ 6]
			0b_10011100,
			//'l' (108)  |101000                                       28  [ 6]
			0b_10100000,
			//'m' (109)  |101001                                       29  [ 6]
			0b_10100100,
			//'n' (110)  |101010                                       2a  [ 6]
			0b_10101000,
			//'p' (112)  |101011                                       2b  [ 6]
			0b_10101100,
			//'r' (114)  |101100                                       2c  [ 6]
			0b_10110000,
			//'u' (117)  |101101                                       2d  [ 6]
			0b_10110100,
			//':' ( 58)  |1011100                                      5c  [ 7]
			0b_10111000,
			//'B' ( 66)  |1011101                                      5d  [ 7]
			0b_10111010,
			//'C' ( 67)  |1011110                                      5e  [ 7]
			0b_10111100,
			//'D' ( 68)  |1011111                                      5f  [ 7]
			0b_10111110,
			//'E' ( 69)  |1100000                                      60  [ 7]
			0b_11000000,
			//'F' ( 70)  |1100001                                      61  [ 7]
			0b_11000010,
			//'G' ( 71)  |1100010                                      62  [ 7]
			0b_11000100,
			//'H' ( 72)  |1100011                                      63  [ 7]
			0b_11000110,
			//'I' ( 73)  |1100100                                      64  [ 7]
			0b_11001000,
			//'J' ( 74)  |1100101                                      65  [ 7]
			0b_11001010,
			//'K' ( 75)  |1100110                                      66  [ 7]
			0b_11001100,
			//'L' ( 76)  |1100111                                      67  [ 7]
			0b_11001110,
			//'M' ( 77)  |1101000                                      68  [ 7]
			0b_11010000,
			//'N' ( 78)  |1101001                                      69  [ 7]
			0b_11010010,
			//'O' ( 79)  |1101010                                      6a  [ 7]
			0b_11010100,
			//'P' ( 80)  |1101011                                      6b  [ 7]
			0b_11010110,
			//'Q' ( 81)  |1101100                                      6c  [ 7]
			0b_11011000,
			//'R' ( 82)  |1101101                                      6d  [ 7]
			0b_11011010,
			//'S' ( 83)  |1101110                                      6e  [ 7]
			0b_11011100,
			//'T' ( 84)  |1101111                                      6f  [ 7]
			0b_11011110,
			//'U' ( 85)  |1110000                                      70  [ 7]
			0b_11100000,
			//'V' ( 86)  |1110001                                      71  [ 7]
			0b_11100010,
			//'W' ( 87)  |1110010                                      72  [ 7]
			0b_11100100,
			//'Y' ( 89)  |1110011                                      73  [ 7]
			0b_11100110,
			//'j' (106)  |1110100                                      74  [ 7]
			0b_11101000,
			//'k' (107)  |1110101                                      75  [ 7]
			0b_11101010,
			//'q' (113)  |1110110                                      76  [ 7]
			0b_11101100,
			//'v' (118)  |1110111                                      77  [ 7]
			0b_11101110,
			//'w' (119)  |1111000                                      78  [ 7]
			0b_11110000,
			//'x' (120)  |1111001                                      79  [ 7]
			0b_11110010,
			//'y' (121)  |1111010                                      7a  [ 7]
			0b_11110100,
			//'z' (122)  |1111011                                      7b  [ 7]
			0b_11110110,
			//'&' ( 38)  |11111000                                     f8  [ 8]
			0b_11111000,
			//'*' ( 42)  |11111001                                     f9  [ 8]
			0b_11111001,
			//',' ( 44)  |11111010                                     fa  [ 8]
			0b_11111010,
			//';' ( 59)  |11111011                                     fb  [ 8]
			0b_11111011,
			//'X' ( 88)  |11111100                                     fc  [ 8]
			0b_11111100,
			//'Z' ( 90)  |11111101                                     fd  [ 8]
			0b_11111101,
			//'!' ( 33)  |11111110|00                                 3f8  [10]
			0b_11111110, 0b_00000000,
			//'"' ( 34)  |11111110|01                                 3f9  [10]
			0b_11111110, 0b_01000000,
			//'(' ( 40)  |11111110|10                                 3fa  [10]
			0b_11111110, 0b_10000000,
			//')' ( 41)  |11111110|11                                 3fb  [10]
			0b_11111110, 0b_11000000,
			//'?' ( 63)  |11111111|00                                 3fc  [10]
			0b_11111111, 0b_00000000,
			//''' ( 39)  |11111111|010                                7fa  [11]
			0b_11111111, 0b_01000000,
			//'+' ( 43)  |11111111|011                                7fb  [11]
			0b_11111111, 0b_01100000,
			//'|' (124)  |11111111|100                                7fc  [11]
			0b_11111111, 0b_10000000,
			//'#' ( 35)  |11111111|1010                               ffa  [12]
			0b_11111111, 0b_10100000,
			//'>' ( 62)  |11111111|1011                               ffb  [12]
			0b_11111111, 0b_10110000,
			//    (  0)  |11111111|11000                             1ff8  [13]
			0b_11111111, 0b_11000000,
			//'$' ( 36)  |11111111|11001                             1ff9  [13]
			0b_11111111, 0b_11001000,
			//'@' ( 64)  |11111111|11010                             1ffa  [13]
			0b_11111111, 0b_11010000,
			//'[' ( 91)  |11111111|11011                             1ffb  [13]
			0b_11111111, 0b_11011000,
			//']' ( 93)  |11111111|11100                             1ffc  [13]
			0b_11111111, 0b_11100000,
			//'~' (126)  |11111111|11101                             1ffd  [13]
			0b_11111111, 0b_11101000,
			//'^' ( 94)  |11111111|111100                            3ffc  [14]
			0b_11111111, 0b_11110000,
			//'}' (125)  |11111111|111101                            3ffd  [14]
			0b_11111111, 0b_11110100,
			//'<' ( 60)  |11111111|1111100                           7ffc  [15]
			0b_11111111, 0b_11111000,
			//'`' ( 96)  |11111111|1111101                           7ffd  [15]
			0b_11111111, 0b_11111010,
			//'{' (123)  |11111111|1111110                           7ffe  [15]
			0b_11111111, 0b_11111100,
			//'\' ( 92)  |11111111|11111110|000                     7fff0  [19]
			0b_11111111, 0b_11111110, 0b_00000000,
			//    (195)  |11111111|11111110|001                     7fff1  [19]
			0b_11111111, 0b_11111110, 0b_00100000,
			//    (208)  |11111111|11111110|010                     7fff2  [19]
			0b_11111111, 0b_11111110, 0b_01000000,
			//    (128)  |11111111|11111110|0110                    fffe6  [20]
			0b_11111111, 0b_11111110, 0b_01100000,
			//    (130)  |11111111|11111110|0111                    fffe7  [20]
			0b_11111111, 0b_11111110, 0b_01110000,
			//    (131)  |11111111|11111110|1000                    fffe8  [20]
			0b_11111111, 0b_11111110, 0b_10000000,
			//    (162)  |11111111|11111110|1001                    fffe9  [20]
			0b_11111111, 0b_11111110, 0b_10010000,
			//    (184)  |11111111|11111110|1010                    fffea  [20]
			0b_11111111, 0b_11111110, 0b_10100000,
			//    (194)  |11111111|11111110|1011                    fffeb  [20]
			0b_11111111, 0b_11111110, 0b_10110000,
			//    (224)  |11111111|11111110|1100                    fffec  [20]
			0b_11111111, 0b_11111110, 0b_11000000,
			//    (226)  |11111111|11111110|1101                    fffed  [20]
			0b_11111111, 0b_11111110, 0b_11010000,
			//    (153)  |11111111|11111110|11100                  1fffdc  [21]
			0b_11111111, 0b_11111110, 0b_11100000,
			//    (161)  |11111111|11111110|11101                  1fffdd  [21]
			0b_11111111, 0b_11111110, 0b_11101000,
			//    (167)  |11111111|11111110|11110                  1fffde  [21]
			0b_11111111, 0b_11111110, 0b_11110000,
			//    (172)  |11111111|11111110|11111                  1fffdf  [21]
			0b_11111111, 0b_11111110, 0b_11111000,
			//    (176)  |11111111|11111111|00000                  1fffe0  [21]
			0b_11111111, 0b_11111111, 0b_00000000,
			//    (177)  |11111111|11111111|00001                  1fffe1  [21]
			0b_11111111, 0b_11111111, 0b_00001000,
			//    (179)  |11111111|11111111|00010                  1fffe2  [21]
			0b_11111111, 0b_11111111, 0b_00010000,
			//    (209)  |11111111|11111111|00011                  1fffe3  [21]
			0b_11111111, 0b_11111111, 0b_00011000,
			//    (216)  |11111111|11111111|00100                  1fffe4  [21]
			0b_11111111, 0b_11111111, 0b_00100000,
			//    (217)  |11111111|11111111|00101                  1fffe5  [21]
			0b_11111111, 0b_11111111, 0b_00101000,
			//    (227)  |11111111|11111111|00110                  1fffe6  [21]
			0b_11111111, 0b_11111111, 0b_00110000,
			//    (229)  |11111111|11111111|00111                  1fffe7  [21]
			0b_11111111, 0b_11111111, 0b_00111000,
			//    (230)  |11111111|11111111|01000                  1fffe8  [21]
			0b_11111111, 0b_11111111, 0b_01000000,
			//    (129)  |11111111|11111111|010010                 3fffd2  [22]
			0b_11111111, 0b_11111111, 0b_01001000,
			//    (132)  |11111111|11111111|010011                 3fffd3  [22]
			0b_11111111, 0b_11111111, 0b_01001100,
			//    (133)  |11111111|11111111|010100                 3fffd4  [22]
			0b_11111111, 0b_11111111, 0b_01010000,
			//    (134)  |11111111|11111111|010101                 3fffd5  [22]
			0b_11111111, 0b_11111111, 0b_01010100,
			//    (136)  |11111111|11111111|010110                 3fffd6  [22]
			0b_11111111, 0b_11111111, 0b_01011000,
			//    (146)  |11111111|11111111|010111                 3fffd7  [22]
			0b_11111111, 0b_11111111, 0b_01011100,
			//    (154)  |11111111|11111111|011000                 3fffd8  [22]
			0b_11111111, 0b_11111111, 0b_01100000,
			//    (156)  |11111111|11111111|011001                 3fffd9  [22]
			0b_11111111, 0b_11111111, 0b_01100100,
			//    (160)  |11111111|11111111|011010                 3fffda  [22]
			0b_11111111, 0b_11111111, 0b_01101000,
			//    (163)  |11111111|11111111|011011                 3fffdb  [22]
			0b_11111111, 0b_11111111, 0b_01101100,
			//    (164)  |11111111|11111111|011100                 3fffdc  [22]
			0b_11111111, 0b_11111111, 0b_01110000,
			//    (169)  |11111111|11111111|011101                 3fffdd  [22]
			0b_11111111, 0b_11111111, 0b_01110100,
			//    (170)  |11111111|11111111|011110                 3fffde  [22]
			0b_11111111, 0b_11111111, 0b_01111000,
			//    (173)  |11111111|11111111|011111                 3fffdf  [22]
			0b_11111111, 0b_11111111, 0b_01111100,
			//    (178)  |11111111|11111111|100000                 3fffe0  [22]
			0b_11111111, 0b_11111111, 0b_10000000,
			//    (181)  |11111111|11111111|100001                 3fffe1  [22]
			0b_11111111, 0b_11111111, 0b_10000100,
			//    (185)  |11111111|11111111|100010                 3fffe2  [22]
			0b_11111111, 0b_11111111, 0b_10001000,
			//    (186)  |11111111|11111111|100011                 3fffe3  [22]
			0b_11111111, 0b_11111111, 0b_10001100,
			//    (187)  |11111111|11111111|100100                 3fffe4  [22]
			0b_11111111, 0b_11111111, 0b_10010000,
			//    (189)  |11111111|11111111|100101                 3fffe5  [22]
			0b_11111111, 0b_11111111, 0b_10010100,
			//    (190)  |11111111|11111111|100110                 3fffe6  [22]
			0b_11111111, 0b_11111111, 0b_10011000,
			//    (196)  |11111111|11111111|100111                 3fffe7  [22]
			0b_11111111, 0b_11111111, 0b_10011100,
			//    (198)  |11111111|11111111|101000                 3fffe8  [22]
			0b_11111111, 0b_11111111, 0b_10100000,
			//    (228)  |11111111|11111111|101001                 3fffe9  [22]
			0b_11111111, 0b_11111111, 0b_10100100,
			//    (232)  |11111111|11111111|101010                 3fffea  [22]
			0b_11111111, 0b_11111111, 0b_10101000,
			//    (233)  |11111111|11111111|101011                 3fffeb  [22]
			0b_11111111, 0b_11111111, 0b_10101100,
			//    (  1)  |11111111|11111111|1011000                7fffd8  [23]
			0b_11111111, 0b_11111111, 0b_10110000,
			//    (135)  |11111111|11111111|1011001                7fffd9  [23]
			0b_11111111, 0b_11111111, 0b_10110010,
			//    (137)  |11111111|11111111|1011010                7fffda  [23]
			0b_11111111, 0b_11111111, 0b_10110100,
			//    (138)  |11111111|11111111|1011011                7fffdb  [23]
			0b_11111111, 0b_11111111, 0b_10110110,
			//    (139)  |11111111|11111111|1011100                7fffdc  [23]
			0b_11111111, 0b_11111111, 0b_10111000,
			//    (140)  |11111111|11111111|1011101                7fffdd  [23]
			0b_11111111, 0b_11111111, 0b_10111010,
			//    (141)  |11111111|11111111|1011110                7fffde  [23]
			0b_11111111, 0b_11111111, 0b_10111100,
			//    (143)  |11111111|11111111|1011111                7fffdf  [23]
			0b_11111111, 0b_11111111, 0b_10111110,
			//    (147)  |11111111|11111111|1100000                7fffe0  [23]
			0b_11111111, 0b_11111111, 0b_11000000,
			//    (149)  |11111111|11111111|1100001                7fffe1  [23]
			0b_11111111, 0b_11111111, 0b_11000010,
			//    (150)  |11111111|11111111|1100010                7fffe2  [23]
			0b_11111111, 0b_11111111, 0b_11000100,
			//    (151)  |11111111|11111111|1100011                7fffe3  [23]
			0b_11111111, 0b_11111111, 0b_11000110,
			//    (152)  |11111111|11111111|1100100                7fffe4  [23]
			0b_11111111, 0b_11111111, 0b_11001000,
			//    (155)  |11111111|11111111|1100101                7fffe5  [23]
			0b_11111111, 0b_11111111, 0b_11001010,
			//    (157)  |11111111|11111111|1100110                7fffe6  [23]
			0b_11111111, 0b_11111111, 0b_11001100,
			//    (158)  |11111111|11111111|1100111                7fffe7  [23]
			0b_11111111, 0b_11111111, 0b_11001110,
			//    (165)  |11111111|11111111|1101000                7fffe8  [23]
			0b_11111111, 0b_11111111, 0b_11010000,
			//    (166)  |11111111|11111111|1101001                7fffe9  [23]
			0b_11111111, 0b_11111111, 0b_11010010,
			//    (168)  |11111111|11111111|1101010                7fffea  [23]
			0b_11111111, 0b_11111111, 0b_11010100,
			//    (174)  |11111111|11111111|1101011                7fffeb  [23]
			0b_11111111, 0b_11111111, 0b_11010110,
			//    (175)  |11111111|11111111|1101100                7fffec  [23]
			0b_11111111, 0b_11111111, 0b_11011000,
			//    (180)  |11111111|11111111|1101101                7fffed  [23]
			0b_11111111, 0b_11111111, 0b_11011010,
			//    (182)  |11111111|11111111|1101110                7fffee  [23]
			0b_11111111, 0b_11111111, 0b_11011100,
			//    (183)  |11111111|11111111|1101111                7fffef  [23]
			0b_11111111, 0b_11111111, 0b_11011110,
			//    (188)  |11111111|11111111|1110000                7ffff0  [23]
			0b_11111111, 0b_11111111, 0b_11100000,
			//    (191)  |11111111|11111111|1110001                7ffff1  [23]
			0b_11111111, 0b_11111111, 0b_11100010,
			//    (197)  |11111111|11111111|1110010                7ffff2  [23]
			0b_11111111, 0b_11111111, 0b_11100100,
			//    (231)  |11111111|11111111|1110011                7ffff3  [23]
			0b_11111111, 0b_11111111, 0b_11100110,
			//    (239)  |11111111|11111111|1110100                7ffff4  [23]
			0b_11111111, 0b_11111111, 0b_11101000,
			//    (  9)  |11111111|11111111|11101010               ffffea  [24]
			0b_11111111, 0b_11111111, 0b_11101010,
			//    (142)  |11111111|11111111|11101011               ffffeb  [24]
			0b_11111111, 0b_11111111, 0b_11101011,
			//    (144)  |11111111|11111111|11101100               ffffec  [24]
			0b_11111111, 0b_11111111, 0b_11101100,
			//    (145)  |11111111|11111111|11101101               ffffed  [24]
			0b_11111111, 0b_11111111, 0b_11101101,
			//    (148)  |11111111|11111111|11101110               ffffee  [24]
			0b_11111111, 0b_11111111, 0b_11101110,
			//    (159)  |11111111|11111111|11101111               ffffef  [24]
			0b_11111111, 0b_11111111, 0b_11101111,
			//    (171)  |11111111|11111111|11110000               fffff0  [24]
			0b_11111111, 0b_11111111, 0b_11110000,
			//    (206)  |11111111|11111111|11110001               fffff1  [24]
			0b_11111111, 0b_11111111, 0b_11110001,
			//    (215)  |11111111|11111111|11110010               fffff2  [24]
			0b_11111111, 0b_11111111, 0b_11110010,
			//    (225)  |11111111|11111111|11110011               fffff3  [24]
			0b_11111111, 0b_11111111, 0b_11110011,
			//    (236)  |11111111|11111111|11110100               fffff4  [24]
			0b_11111111, 0b_11111111, 0b_11110100,
			//    (237)  |11111111|11111111|11110101               fffff5  [24]
			0b_11111111, 0b_11111111, 0b_11110101,
			//    (199)  |11111111|11111111|11110110|0            1ffffec  [25]
			0b_11111111, 0b_11111111, 0b_11110110, 0b_00000000,
			//    (207)  |11111111|11111111|11110110|1            1ffffed  [25]
			0b_11111111, 0b_11111111, 0b_11110110, 0b_10000000,
			//    (234)  |11111111|11111111|11110111|0            1ffffee  [25]
			0b_11111111, 0b_11111111, 0b_11110111, 0b_00000000,
			//    (235)  |11111111|11111111|11110111|1            1ffffef  [25]
			0b_11111111, 0b_11111111, 0b_11110111, 0b_10000000,
			//    (192)  |11111111|11111111|11111000|00           3ffffe0  [26]
			0b_11111111, 0b_11111111, 0b_11111000, 0b_00000000,
			//    (193)  |11111111|11111111|11111000|01           3ffffe1  [26]
			0b_11111111, 0b_11111111, 0b_11111000, 0b_01000000,
			//    (200)  |11111111|11111111|11111000|10           3ffffe2  [26]
			0b_11111111, 0b_11111111, 0b_11111000, 0b_10000000,
			//    (201)  |11111111|11111111|11111000|11           3ffffe3  [26]
			0b_11111111, 0b_11111111, 0b_11111000, 0b_11000000,
			//    (202)  |11111111|11111111|11111001|00           3ffffe4  [26]
			0b_11111111, 0b_11111111, 0b_11111001, 0b_00000000,
			//    (205)  |11111111|11111111|11111001|01           3ffffe5  [26]
			0b_11111111, 0b_11111111, 0b_11111001, 0b_01000000,
			//    (210)  |11111111|11111111|11111001|10           3ffffe6  [26]
			0b_11111111, 0b_11111111, 0b_11111001, 0b_10000000,
			//    (213)  |11111111|11111111|11111001|11           3ffffe7  [26]
			0b_11111111, 0b_11111111, 0b_11111001, 0b_11000000,
			//    (218)  |11111111|11111111|11111010|00           3ffffe8  [26]
			0b_11111111, 0b_11111111, 0b_11111010, 0b_00000000,
			//    (219)  |11111111|11111111|11111010|01           3ffffe9  [26]
			0b_11111111, 0b_11111111, 0b_11111010, 0b_01000000,
			//    (238)  |11111111|11111111|11111010|10           3ffffea  [26]
			0b_11111111, 0b_11111111, 0b_11111010, 0b_10000000,
			//    (240)  |11111111|11111111|11111010|11           3ffffeb  [26]
			0b_11111111, 0b_11111111, 0b_11111010, 0b_11000000,
			//    (242)  |11111111|11111111|11111011|00           3ffffec  [26]
			0b_11111111, 0b_11111111, 0b_11111011, 0b_00000000,
			//    (243)  |11111111|11111111|11111011|01           3ffffed  [26]
			0b_11111111, 0b_11111111, 0b_11111011, 0b_01000000,
			//    (255)  |11111111|11111111|11111011|10           3ffffee  [26]
			0b_11111111, 0b_11111111, 0b_11111011, 0b_10000000,
			//    (203)  |11111111|11111111|11111011|110          7ffffde  [27]
			0b_11111111, 0b_11111111, 0b_11111011, 0b_11000000,
			//    (204)  |11111111|11111111|11111011|111          7ffffdf  [27]
			0b_11111111, 0b_11111111, 0b_11111011, 0b_11100000,
			//    (211)  |11111111|11111111|11111100|000          7ffffe0  [27]
			0b_11111111, 0b_11111111, 0b_11111100, 0b_00000000,
			//    (212)  |11111111|11111111|11111100|001          7ffffe1  [27]
			0b_11111111, 0b_11111111, 0b_11111100, 0b_00100000,
			//    (214)  |11111111|11111111|11111100|010          7ffffe2  [27]
			0b_11111111, 0b_11111111, 0b_11111100, 0b_01000000,
			//    (221)  |11111111|11111111|11111100|011          7ffffe3  [27]
			0b_11111111, 0b_11111111, 0b_11111100, 0b_01100000,
			//    (222)  |11111111|11111111|11111100|100          7ffffe4  [27]
			0b_11111111, 0b_11111111, 0b_11111100, 0b_10000000,
			//    (223)  |11111111|11111111|11111100|101          7ffffe5  [27]
			0b_11111111, 0b_11111111, 0b_11111100, 0b_10100000,
			//    (241)  |11111111|11111111|11111100|110          7ffffe6  [27]
			0b_11111111, 0b_11111111, 0b_11111100, 0b_11000000,
			//    (244)  |11111111|11111111|11111100|111          7ffffe7  [27]
			0b_11111111, 0b_11111111, 0b_11111100, 0b_11100000,
			//    (245)  |11111111|11111111|11111101|000          7ffffe8  [27]
			0b_11111111, 0b_11111111, 0b_11111101, 0b_00000000,
			//    (246)  |11111111|11111111|11111101|001          7ffffe9  [27]
			0b_11111111, 0b_11111111, 0b_11111101, 0b_00100000,
			//    (247)  |11111111|11111111|11111101|010          7ffffea  [27]
			0b_11111111, 0b_11111111, 0b_11111101, 0b_01000000,
			//    (248)  |11111111|11111111|11111101|011          7ffffeb  [27]
			0b_11111111, 0b_11111111, 0b_11111101, 0b_01100000,
			//    (250)  |11111111|11111111|11111101|100          7ffffec  [27]
			0b_11111111, 0b_11111111, 0b_11111101, 0b_10000000,
			//    (251)  |11111111|11111111|11111101|101          7ffffed  [27]
			0b_11111111, 0b_11111111, 0b_11111101, 0b_10100000,
			//    (252)  |11111111|11111111|11111101|110          7ffffee  [27]
			0b_11111111, 0b_11111111, 0b_11111101, 0b_11000000,
			//    (253)  |11111111|11111111|11111101|111          7ffffef  [27]
			0b_11111111, 0b_11111111, 0b_11111101, 0b_11100000,
			//    (254)  |11111111|11111111|11111110|000          7fffff0  [27]
			0b_11111111, 0b_11111111, 0b_11111110, 0b_00000000,
			//    (  2)  |11111111|11111111|11111110|0010         fffffe2  [28]
			0b_11111111, 0b_11111111, 0b_11111110, 0b_00100000,
			//    (  3)  |11111111|11111111|11111110|0011         fffffe3  [28]
			0b_11111111, 0b_11111111, 0b_11111110, 0b_00110000,
			//    (  4)  |11111111|11111111|11111110|0100         fffffe4  [28]
			0b_11111111, 0b_11111111, 0b_11111110, 0b_01000000,
			//    (  5)  |11111111|11111111|11111110|0101         fffffe5  [28]
			0b_11111111, 0b_11111111, 0b_11111110, 0b_01010000,
			//    (  6)  |11111111|11111111|11111110|0110         fffffe6  [28]
			0b_11111111, 0b_11111111, 0b_11111110, 0b_01100000,
			//    (  7)  |11111111|11111111|11111110|0111         fffffe7  [28]
			0b_11111111, 0b_11111111, 0b_11111110, 0b_01110000,
			//    (  8)  |11111111|11111111|11111110|1000         fffffe8  [28]
			0b_11111111, 0b_11111111, 0b_11111110, 0b_10000000,
			//    ( 11)  |11111111|11111111|11111110|1001         fffffe9  [28]
			0b_11111111, 0b_11111111, 0b_11111110, 0b_10010000,
			//    ( 12)  |11111111|11111111|11111110|1010         fffffea  [28]
			0b_11111111, 0b_11111111, 0b_11111110, 0b_10100000,
			//    ( 14)  |11111111|11111111|11111110|1011         fffffeb  [28]
			0b_11111111, 0b_11111111, 0b_11111110, 0b_10110000,
			//    ( 15)  |11111111|11111111|11111110|1100         fffffec  [28]
			0b_11111111, 0b_11111111, 0b_11111110, 0b_11000000,
			//    ( 16)  |11111111|11111111|11111110|1101         fffffed  [28]
			0b_11111111, 0b_11111111, 0b_11111110, 0b_11010000,
			//    ( 17)  |11111111|11111111|11111110|1110         fffffee  [28]
			0b_11111111, 0b_11111111, 0b_11111110, 0b_11100000,
			//    ( 18)  |11111111|11111111|11111110|1111         fffffef  [28]
			0b_11111111, 0b_11111111, 0b_11111110, 0b_11110000,
			//    ( 19)  |11111111|11111111|11111111|0000         ffffff0  [28]
			0b_11111111, 0b_11111111, 0b_11111111, 0b_00000000,
			//    ( 20)  |11111111|11111111|11111111|0001         ffffff1  [28]
			0b_11111111, 0b_11111111, 0b_11111111, 0b_00010000,
			//    ( 21)  |11111111|11111111|11111111|0010         ffffff2  [28]
			0b_11111111, 0b_11111111, 0b_11111111, 0b_00100000,
			//    ( 23)  |11111111|11111111|11111111|0011         ffffff3  [28]
			0b_11111111, 0b_11111111, 0b_11111111, 0b_00110000,
			//    ( 24)  |11111111|11111111|11111111|0100         ffffff4  [28]
			0b_11111111, 0b_11111111, 0b_11111111, 0b_01000000,
			//    ( 25)  |11111111|11111111|11111111|0101         ffffff5  [28]
			0b_11111111, 0b_11111111, 0b_11111111, 0b_01010000,
			//    ( 26)  |11111111|11111111|11111111|0110         ffffff6  [28]
			0b_11111111, 0b_11111111, 0b_11111111, 0b_01100000,
			//    ( 27)  |11111111|11111111|11111111|0111         ffffff7  [28]
			0b_11111111, 0b_11111111, 0b_11111111, 0b_01110000,
			//    ( 28)  |11111111|11111111|11111111|1000         ffffff8  [28]
			0b_11111111, 0b_11111111, 0b_11111111, 0b_10000000,
			//    ( 29)  |11111111|11111111|11111111|1001         ffffff9  [28]
			0b_11111111, 0b_11111111, 0b_11111111, 0b_10010000,
			//    ( 30)  |11111111|11111111|11111111|1010         ffffffa  [28]
			0b_11111111, 0b_11111111, 0b_11111111, 0b_10100000,
			//    ( 31)  |11111111|11111111|11111111|1011         ffffffb  [28]
			0b_11111111, 0b_11111111, 0b_11111111, 0b_10110000,
			//    (127)  |11111111|11111111|11111111|1100         ffffffc  [28]
			0b_11111111, 0b_11111111, 0b_11111111, 0b_11000000,
			//    (220)  |11111111|11111111|11111111|1101         ffffffd  [28]
			0b_11111111, 0b_11111111, 0b_11111111, 0b_11010000,
			//    (249)  |11111111|11111111|11111111|1110         ffffffe  [28]
			0b_11111111, 0b_11111111, 0b_11111111, 0b_11100000,
			//    ( 10)  |11111111|11111111|11111111|111100      3ffffffc  [30]
			0b_11111111, 0b_11111111, 0b_11111111, 0b_11110000,
			//    ( 13)  |11111111|11111111|11111111|111101      3ffffffd  [30]
			0b_11111111, 0b_11111111, 0b_11111111, 0b_11110100,
			//    ( 22)  |11111111|11111111|11111111|111110      3ffffffe  [30]
			0b_11111111, 0b_11111111, 0b_11111111, 0b_11111000
		};

	/// <summary>
	///     使用适用于 HTTP2 的 Huffman 压缩算法将 <see cref="string" /> 解码
	/// </summary>
	/// <param name="data">编码前的数据</param>
	/// <returns>编码后的缓冲区</returns>
	public static byte[] Encoder(string data)
	{
		return Encoder(Encoding.ASCII.GetBytes(data)).ToArray();
	}

	/// <summary>
	///     使用适用于 HTTP2 的 Huffman 压缩算法将缓冲区内的 ascii 文本解码到缓冲区
	/// </summary>
	/// <param name="data">已编码数据</param>
	/// <returns>包含结果的<see cref="Memory{T}" /></returns>
	public static Memory<byte> Encoder(byte[] data)
	{
		byte[] bytes = new byte[(int)(data.Length * 3.75)];
		int encoder = Encoder(data, bytes);
		return new Memory<byte>(bytes, 0, encoder);
	}


	/// <summary>
	///     使用适用于 HTTP2 的 Huffman 压缩算法将缓冲区内的 ascii 文本解码到缓冲区
	/// </summary>
	/// <param name="data">已编码数据</param>
	/// <param name="re">结果缓冲区</param>
	/// <returns>结果实际占用的长度</returns>
	public static unsafe int Encoder(Span<byte> data, Span<byte> re)
	{
		fixed (byte* ptrd = data)
		{
			fixed (byte* ptrr = re)
			{
				return Encoder(ptrd, data.Length, ptrr, re.Length);
			}
		}
	}


	/// <summary>
	///     使用适用于 HTTP2 的 Huffman 压缩算法将缓冲区内的 ascii 文本解码到缓冲区
	/// </summary>
	/// <param name="data">已编码数据</param>
	/// <param name="dataLength">已编码数据长度</param>
	/// <param name="result">结果缓冲区</param>
	/// <param name="resultLength">结果缓冲区最大长度</param>
	/// <returns>结果实际占用的长度</returns>
	/// <exception cref="IndexOutOfRangeException">当缓冲区太小时抛出</exception>
	public static unsafe int Encoder(byte* data, int dataLength, byte* result, int resultLength)
	{
		if (dataLength == 0 || resultLength == 0) return -1;
		//NoStackallocList tdata = new NoStackallocList(result);
		//List<byte> tdata = new List<byte>();
		//last 位长度
		int lastOffset = 0;
		//上一个未写入完成的 bit
		byte last = 0;
		//结果写入索引
		int wi = 0;

		//ASCll

		for (int j = 0; j < dataLength; j++)
		{
			byte at = data[j];
			int starti = 0;
			byte bytesl = 0;
			byte bitl = 0;

			#region switch

			switch (at)
			{
				case (byte)'0':
					starti = 0;
					bytesl = 1;
					bitl = 5;
					break;
				case (byte)'1':
					starti = 1;
					bytesl = 1;
					bitl = 5;
					break;
				case (byte)'2':
					starti = 2;
					bytesl = 1;
					bitl = 5;
					break;
				case (byte)'a':
					starti = 3;
					bytesl = 1;
					bitl = 5;
					break;
				case (byte)'c':
					starti = 4;
					bytesl = 1;
					bitl = 5;
					break;
				case (byte)'e':
					starti = 5;
					bytesl = 1;
					bitl = 5;
					break;
				case (byte)'i':
					starti = 6;
					bytesl = 1;
					bitl = 5;
					break;
				case (byte)'o':
					starti = 7;
					bytesl = 1;
					bitl = 5;
					break;
				case (byte)'s':
					starti = 8;
					bytesl = 1;
					bitl = 5;
					break;
				case (byte)'t':
					starti = 9;
					bytesl = 1;
					bitl = 5;
					break;
				case (byte)' ':
					starti = 10;
					bytesl = 1;
					bitl = 6;
					break;
				case (byte)'%':
					starti = 11;
					bytesl = 1;
					bitl = 6;
					break;
				case (byte)'-':
					starti = 12;
					bytesl = 1;
					bitl = 6;
					break;
				case (byte)'.':
					starti = 13;
					bytesl = 1;
					bitl = 6;
					break;
				case (byte)'/':
					starti = 14;
					bytesl = 1;
					bitl = 6;
					break;
				case (byte)'3':
					starti = 15;
					bytesl = 1;
					bitl = 6;
					break;
				case (byte)'4':
					starti = 16;
					bytesl = 1;
					bitl = 6;
					break;
				case (byte)'5':
					starti = 17;
					bytesl = 1;
					bitl = 6;
					break;
				case (byte)'6':
					starti = 18;
					bytesl = 1;
					bitl = 6;
					break;
				case (byte)'7':
					starti = 19;
					bytesl = 1;
					bitl = 6;
					break;
				case (byte)'8':
					starti = 20;
					bytesl = 1;
					bitl = 6;
					break;
				case (byte)'9':
					starti = 21;
					bytesl = 1;
					bitl = 6;
					break;
				case (byte)'=':
					starti = 22;
					bytesl = 1;
					bitl = 6;
					break;
				case (byte)'A':
					starti = 23;
					bytesl = 1;
					bitl = 6;
					break;
				case (byte)'_':
					starti = 24;
					bytesl = 1;
					bitl = 6;
					break;
				case (byte)'b':
					starti = 25;
					bytesl = 1;
					bitl = 6;
					break;
				case (byte)'d':
					starti = 26;
					bytesl = 1;
					bitl = 6;
					break;
				case (byte)'f':
					starti = 27;
					bytesl = 1;
					bitl = 6;
					break;
				case (byte)'g':
					starti = 28;
					bytesl = 1;
					bitl = 6;
					break;
				case (byte)'h':
					starti = 29;
					bytesl = 1;
					bitl = 6;
					break;
				case (byte)'l':
					starti = 30;
					bytesl = 1;
					bitl = 6;
					break;
				case (byte)'m':
					starti = 31;
					bytesl = 1;
					bitl = 6;
					break;
				case (byte)'n':
					starti = 32;
					bytesl = 1;
					bitl = 6;
					break;
				case (byte)'p':
					starti = 33;
					bytesl = 1;
					bitl = 6;
					break;
				case (byte)'r':
					starti = 34;
					bytesl = 1;
					bitl = 6;
					break;
				case (byte)'u':
					starti = 35;
					bytesl = 1;
					bitl = 6;
					break;
				case (byte)':':
					starti = 36;
					bytesl = 1;
					bitl = 7;
					break;
				case (byte)'B':
					starti = 37;
					bytesl = 1;
					bitl = 7;
					break;
				case (byte)'C':
					starti = 38;
					bytesl = 1;
					bitl = 7;
					break;
				case (byte)'D':
					starti = 39;
					bytesl = 1;
					bitl = 7;
					break;
				case (byte)'E':
					starti = 40;
					bytesl = 1;
					bitl = 7;
					break;
				case (byte)'F':
					starti = 41;
					bytesl = 1;
					bitl = 7;
					break;
				case (byte)'G':
					starti = 42;
					bytesl = 1;
					bitl = 7;
					break;
				case (byte)'H':
					starti = 43;
					bytesl = 1;
					bitl = 7;
					break;
				case (byte)'I':
					starti = 44;
					bytesl = 1;
					bitl = 7;
					break;
				case (byte)'J':
					starti = 45;
					bytesl = 1;
					bitl = 7;
					break;
				case (byte)'K':
					starti = 46;
					bytesl = 1;
					bitl = 7;
					break;
				case (byte)'L':
					starti = 47;
					bytesl = 1;
					bitl = 7;
					break;
				case (byte)'M':
					starti = 48;
					bytesl = 1;
					bitl = 7;
					break;
				case (byte)'N':
					starti = 49;
					bytesl = 1;
					bitl = 7;
					break;
				case (byte)'O':
					starti = 50;
					bytesl = 1;
					bitl = 7;
					break;
				case (byte)'P':
					starti = 51;
					bytesl = 1;
					bitl = 7;
					break;
				case (byte)'Q':
					starti = 52;
					bytesl = 1;
					bitl = 7;
					break;
				case (byte)'R':
					starti = 53;
					bytesl = 1;
					bitl = 7;
					break;
				case (byte)'S':
					starti = 54;
					bytesl = 1;
					bitl = 7;
					break;
				case (byte)'T':
					starti = 55;
					bytesl = 1;
					bitl = 7;
					break;
				case (byte)'U':
					starti = 56;
					bytesl = 1;
					bitl = 7;
					break;
				case (byte)'V':
					starti = 57;
					bytesl = 1;
					bitl = 7;
					break;
				case (byte)'W':
					starti = 58;
					bytesl = 1;
					bitl = 7;
					break;
				case (byte)'Y':
					starti = 59;
					bytesl = 1;
					bitl = 7;
					break;
				case (byte)'j':
					starti = 60;
					bytesl = 1;
					bitl = 7;
					break;
				case (byte)'k':
					starti = 61;
					bytesl = 1;
					bitl = 7;
					break;
				case (byte)'q':
					starti = 62;
					bytesl = 1;
					bitl = 7;
					break;
				case (byte)'v':
					starti = 63;
					bytesl = 1;
					bitl = 7;
					break;
				case (byte)'w':
					starti = 64;
					bytesl = 1;
					bitl = 7;
					break;
				case (byte)'x':
					starti = 65;
					bytesl = 1;
					bitl = 7;
					break;
				case (byte)'y':
					starti = 66;
					bytesl = 1;
					bitl = 7;
					break;
				case (byte)'z':
					starti = 67;
					bytesl = 1;
					bitl = 7;
					break;
				case (byte)'&':
					starti = 68;
					bytesl = 1;
					bitl = 8;
					break;
				case (byte)'*':
					starti = 69;
					bytesl = 1;
					bitl = 8;
					break;
				case (byte)',':
					starti = 70;
					bytesl = 1;
					bitl = 8;
					break;
				case (byte)';':
					starti = 71;
					bytesl = 1;
					bitl = 8;
					break;
				case (byte)'X':
					starti = 72;
					bytesl = 1;
					bitl = 8;
					break;
				case (byte)'Z':
					starti = 73;
					bytesl = 1;
					bitl = 8;
					break;
				case (byte)'!':
					starti = 74;
					bytesl = 2;
					bitl = 10;
					break;
				case (byte)'"':
					starti = 76;
					bytesl = 2;
					bitl = 10;
					break;
				case (byte)'(':
					starti = 78;
					bytesl = 2;
					bitl = 10;
					break;
				case (byte)')':
					starti = 80;
					bytesl = 2;
					bitl = 10;
					break;
				case (byte)'?':
					starti = 82;
					bytesl = 2;
					bitl = 10;
					break;
				case (byte)'\'':
					starti = 84;
					bytesl = 2;
					bitl = 11;
					break;
				case (byte)'+':
					starti = 86;
					bytesl = 2;
					bitl = 11;
					break;
				case (byte)'|':
					starti = 88;
					bytesl = 2;
					bitl = 11;
					break;
				case (byte)'#':
					starti = 90;
					bytesl = 2;
					bitl = 12;
					break;
				case (byte)'>':
					starti = 92;
					bytesl = 2;
					bitl = 12;
					break;
				case 0:
					starti = 94;
					bytesl = 2;
					bitl = 13;
					break;
				case (byte)'$':
					starti = 96;
					bytesl = 2;
					bitl = 13;
					break;
				case (byte)'@':
					starti = 98;
					bytesl = 2;
					bitl = 13;
					break;
				case (byte)'[':
					starti = 100;
					bytesl = 2;
					bitl = 13;
					break;
				case (byte)']':
					starti = 102;
					bytesl = 2;
					bitl = 13;
					break;
				case (byte)'~':
					starti = 104;
					bytesl = 2;
					bitl = 13;
					break;
				case (byte)'^':
					starti = 106;
					bytesl = 2;
					bitl = 14;
					break;
				case (byte)'}':
					starti = 108;
					bytesl = 2;
					bitl = 14;
					break;
				case (byte)'<':
					starti = 110;
					bytesl = 2;
					bitl = 15;
					break;
				case (byte)'`':
					starti = 112;
					bytesl = 2;
					bitl = 15;
					break;
				case (byte)'{':
					starti = 114;
					bytesl = 2;
					bitl = 15;
					break;
				case (byte)'\\':
					starti = 116;
					bytesl = 3;
					bitl = 19;
					break;
				case 195:
					starti = 119;
					bytesl = 3;
					bitl = 19;
					break;
				case 208:
					starti = 122;
					bytesl = 3;
					bitl = 19;
					break;
				case 128:
					starti = 125;
					bytesl = 3;
					bitl = 20;
					break;
				case 130:
					starti = 128;
					bytesl = 3;
					bitl = 20;
					break;
				case 131:
					starti = 131;
					bytesl = 3;
					bitl = 20;
					break;
				case 162:
					starti = 134;
					bytesl = 3;
					bitl = 20;
					break;
				case 184:
					starti = 137;
					bytesl = 3;
					bitl = 20;
					break;
				case 194:
					starti = 140;
					bytesl = 3;
					bitl = 20;
					break;
				case 224:
					starti = 143;
					bytesl = 3;
					bitl = 20;
					break;
				case 226:
					starti = 146;
					bytesl = 3;
					bitl = 20;
					break;
				case 153:
					starti = 149;
					bytesl = 3;
					bitl = 21;
					break;
				case 161:
					starti = 152;
					bytesl = 3;
					bitl = 21;
					break;
				case 167:
					starti = 155;
					bytesl = 3;
					bitl = 21;
					break;
				case 172:
					starti = 158;
					bytesl = 3;
					bitl = 21;
					break;
				case 176:
					starti = 161;
					bytesl = 3;
					bitl = 21;
					break;
				case 177:
					starti = 164;
					bytesl = 3;
					bitl = 21;
					break;
				case 179:
					starti = 167;
					bytesl = 3;
					bitl = 21;
					break;
				case 209:
					starti = 170;
					bytesl = 3;
					bitl = 21;
					break;
				case 216:
					starti = 173;
					bytesl = 3;
					bitl = 21;
					break;
				case 217:
					starti = 176;
					bytesl = 3;
					bitl = 21;
					break;
				case 227:
					starti = 179;
					bytesl = 3;
					bitl = 21;
					break;
				case 229:
					starti = 182;
					bytesl = 3;
					bitl = 21;
					break;
				case 230:
					starti = 185;
					bytesl = 3;
					bitl = 21;
					break;
				case 129:
					starti = 188;
					bytesl = 3;
					bitl = 22;
					break;
				case 132:
					starti = 191;
					bytesl = 3;
					bitl = 22;
					break;
				case 133:
					starti = 194;
					bytesl = 3;
					bitl = 22;
					break;
				case 134:
					starti = 197;
					bytesl = 3;
					bitl = 22;
					break;
				case 136:
					starti = 200;
					bytesl = 3;
					bitl = 22;
					break;
				case 146:
					starti = 203;
					bytesl = 3;
					bitl = 22;
					break;
				case 154:
					starti = 206;
					bytesl = 3;
					bitl = 22;
					break;
				case 156:
					starti = 209;
					bytesl = 3;
					bitl = 22;
					break;
				case 160:
					starti = 212;
					bytesl = 3;
					bitl = 22;
					break;
				case 163:
					starti = 215;
					bytesl = 3;
					bitl = 22;
					break;
				case 164:
					starti = 218;
					bytesl = 3;
					bitl = 22;
					break;
				case 169:
					starti = 221;
					bytesl = 3;
					bitl = 22;
					break;
				case 170:
					starti = 224;
					bytesl = 3;
					bitl = 22;
					break;
				case 173:
					starti = 227;
					bytesl = 3;
					bitl = 22;
					break;
				case 178:
					starti = 230;
					bytesl = 3;
					bitl = 22;
					break;
				case 181:
					starti = 233;
					bytesl = 3;
					bitl = 22;
					break;
				case 185:
					starti = 236;
					bytesl = 3;
					bitl = 22;
					break;
				case 186:
					starti = 239;
					bytesl = 3;
					bitl = 22;
					break;
				case 187:
					starti = 242;
					bytesl = 3;
					bitl = 22;
					break;
				case 189:
					starti = 245;
					bytesl = 3;
					bitl = 22;
					break;
				case 190:
					starti = 248;
					bytesl = 3;
					bitl = 22;
					break;
				case 196:
					starti = 251;
					bytesl = 3;
					bitl = 22;
					break;
				case 198:
					starti = 254;
					bytesl = 3;
					bitl = 22;
					break;
				case 228:
					starti = 257;
					bytesl = 3;
					bitl = 22;
					break;
				case 232:
					starti = 260;
					bytesl = 3;
					bitl = 22;
					break;
				case 233:
					starti = 263;
					bytesl = 3;
					bitl = 22;
					break;
				case 1:
					starti = 266;
					bytesl = 3;
					bitl = 23;
					break;
				case 135:
					starti = 269;
					bytesl = 3;
					bitl = 23;
					break;
				case 137:
					starti = 272;
					bytesl = 3;
					bitl = 23;
					break;
				case 138:
					starti = 275;
					bytesl = 3;
					bitl = 23;
					break;
				case 139:
					starti = 278;
					bytesl = 3;
					bitl = 23;
					break;
				case 140:
					starti = 281;
					bytesl = 3;
					bitl = 23;
					break;
				case 141:
					starti = 284;
					bytesl = 3;
					bitl = 23;
					break;
				case 143:
					starti = 287;
					bytesl = 3;
					bitl = 23;
					break;
				case 147:
					starti = 290;
					bytesl = 3;
					bitl = 23;
					break;
				case 149:
					starti = 293;
					bytesl = 3;
					bitl = 23;
					break;
				case 150:
					starti = 296;
					bytesl = 3;
					bitl = 23;
					break;
				case 151:
					starti = 299;
					bytesl = 3;
					bitl = 23;
					break;
				case 152:
					starti = 302;
					bytesl = 3;
					bitl = 23;
					break;
				case 155:
					starti = 305;
					bytesl = 3;
					bitl = 23;
					break;
				case 157:
					starti = 308;
					bytesl = 3;
					bitl = 23;
					break;
				case 158:
					starti = 311;
					bytesl = 3;
					bitl = 23;
					break;
				case 165:
					starti = 314;
					bytesl = 3;
					bitl = 23;
					break;
				case 166:
					starti = 317;
					bytesl = 3;
					bitl = 23;
					break;
				case 168:
					starti = 320;
					bytesl = 3;
					bitl = 23;
					break;
				case 174:
					starti = 323;
					bytesl = 3;
					bitl = 23;
					break;
				case 175:
					starti = 326;
					bytesl = 3;
					bitl = 23;
					break;
				case 180:
					starti = 329;
					bytesl = 3;
					bitl = 23;
					break;
				case 182:
					starti = 332;
					bytesl = 3;
					bitl = 23;
					break;
				case 183:
					starti = 335;
					bytesl = 3;
					bitl = 23;
					break;
				case 188:
					starti = 338;
					bytesl = 3;
					bitl = 23;
					break;
				case 191:
					starti = 341;
					bytesl = 3;
					bitl = 23;
					break;
				case 197:
					starti = 344;
					bytesl = 3;
					bitl = 23;
					break;
				case 231:
					starti = 347;
					bytesl = 3;
					bitl = 23;
					break;
				case 239:
					starti = 350;
					bytesl = 3;
					bitl = 23;
					break;
				case 9:
					starti = 353;
					bytesl = 3;
					bitl = 24;
					break;
				case 142:
					starti = 356;
					bytesl = 3;
					bitl = 24;
					break;
				case 144:
					starti = 359;
					bytesl = 3;
					bitl = 24;
					break;
				case 145:
					starti = 362;
					bytesl = 3;
					bitl = 24;
					break;
				case 148:
					starti = 365;
					bytesl = 3;
					bitl = 24;
					break;
				case 159:
					starti = 368;
					bytesl = 3;
					bitl = 24;
					break;
				case 171:
					starti = 371;
					bytesl = 3;
					bitl = 24;
					break;
				case 206:
					starti = 374;
					bytesl = 3;
					bitl = 24;
					break;
				case 215:
					starti = 377;
					bytesl = 3;
					bitl = 24;
					break;
				case 225:
					starti = 380;
					bytesl = 3;
					bitl = 24;
					break;
				case 236:
					starti = 383;
					bytesl = 3;
					bitl = 24;
					break;
				case 237:
					starti = 386;
					bytesl = 3;
					bitl = 24;
					break;
				case 199:
					starti = 389;
					bytesl = 4;
					bitl = 25;
					break;
				case 207:
					starti = 393;
					bytesl = 4;
					bitl = 25;
					break;
				case 234:
					starti = 397;
					bytesl = 4;
					bitl = 25;
					break;
				case 235:
					starti = 401;
					bytesl = 4;
					bitl = 25;
					break;
				case 192:
					starti = 405;
					bytesl = 4;
					bitl = 26;
					break;
				case 193:
					starti = 409;
					bytesl = 4;
					bitl = 26;
					break;
				case 200:
					starti = 413;
					bytesl = 4;
					bitl = 26;
					break;
				case 201:
					starti = 417;
					bytesl = 4;
					bitl = 26;
					break;
				case 202:
					starti = 421;
					bytesl = 4;
					bitl = 26;
					break;
				case 205:
					starti = 425;
					bytesl = 4;
					bitl = 26;
					break;
				case 210:
					starti = 429;
					bytesl = 4;
					bitl = 26;
					break;
				case 213:
					starti = 433;
					bytesl = 4;
					bitl = 26;
					break;
				case 218:
					starti = 437;
					bytesl = 4;
					bitl = 26;
					break;
				case 219:
					starti = 441;
					bytesl = 4;
					bitl = 26;
					break;
				case 238:
					starti = 445;
					bytesl = 4;
					bitl = 26;
					break;
				case 240:
					starti = 449;
					bytesl = 4;
					bitl = 26;
					break;
				case 242:
					starti = 453;
					bytesl = 4;
					bitl = 26;
					break;
				case 243:
					starti = 457;
					bytesl = 4;
					bitl = 26;
					break;
				case 255:
					starti = 461;
					bytesl = 4;
					bitl = 26;
					break;
				case 203:
					starti = 465;
					bytesl = 4;
					bitl = 27;
					break;
				case 204:
					starti = 469;
					bytesl = 4;
					bitl = 27;
					break;
				case 211:
					starti = 473;
					bytesl = 4;
					bitl = 27;
					break;
				case 212:
					starti = 477;
					bytesl = 4;
					bitl = 27;
					break;
				case 214:
					starti = 481;
					bytesl = 4;
					bitl = 27;
					break;
				case 221:
					starti = 485;
					bytesl = 4;
					bitl = 27;
					break;
				case 222:
					starti = 489;
					bytesl = 4;
					bitl = 27;
					break;
				case 223:
					starti = 493;
					bytesl = 4;
					bitl = 27;
					break;
				case 241:
					starti = 497;
					bytesl = 4;
					bitl = 27;
					break;
				case 244:
					starti = 501;
					bytesl = 4;
					bitl = 27;
					break;
				case 245:
					starti = 505;
					bytesl = 4;
					bitl = 27;
					break;
				case 246:
					starti = 509;
					bytesl = 4;
					bitl = 27;
					break;
				case 247:
					starti = 513;
					bytesl = 4;
					bitl = 27;
					break;
				case 248:
					starti = 517;
					bytesl = 4;
					bitl = 27;
					break;
				case 250:
					starti = 521;
					bytesl = 4;
					bitl = 27;
					break;
				case 251:
					starti = 525;
					bytesl = 4;
					bitl = 27;
					break;
				case 252:
					starti = 529;
					bytesl = 4;
					bitl = 27;
					break;
				case 253:
					starti = 533;
					bytesl = 4;
					bitl = 27;
					break;
				case 254:
					starti = 537;
					bytesl = 4;
					bitl = 27;
					break;
				case 2:
					starti = 541;
					bytesl = 4;
					bitl = 28;
					break;
				case 3:
					starti = 545;
					bytesl = 4;
					bitl = 28;
					break;
				case 4:
					starti = 549;
					bytesl = 4;
					bitl = 28;
					break;
				case 5:
					starti = 553;
					bytesl = 4;
					bitl = 28;
					break;
				case 6:
					starti = 557;
					bytesl = 4;
					bitl = 28;
					break;
				case 7:
					starti = 561;
					bytesl = 4;
					bitl = 28;
					break;
				case 8:
					starti = 565;
					bytesl = 4;
					bitl = 28;
					break;
				case 11:
					starti = 569;
					bytesl = 4;
					bitl = 28;
					break;
				case 12:
					starti = 573;
					bytesl = 4;
					bitl = 28;
					break;
				case 14:
					starti = 577;
					bytesl = 4;
					bitl = 28;
					break;
				case 15:
					starti = 581;
					bytesl = 4;
					bitl = 28;
					break;
				case 16:
					starti = 585;
					bytesl = 4;
					bitl = 28;
					break;
				case 17:
					starti = 589;
					bytesl = 4;
					bitl = 28;
					break;
				case 18:
					starti = 593;
					bytesl = 4;
					bitl = 28;
					break;
				case 19:
					starti = 597;
					bytesl = 4;
					bitl = 28;
					break;
				case 20:
					starti = 601;
					bytesl = 4;
					bitl = 28;
					break;
				case 21:
					starti = 605;
					bytesl = 4;
					bitl = 28;
					break;
				case 23:
					starti = 609;
					bytesl = 4;
					bitl = 28;
					break;
				case 24:
					starti = 613;
					bytesl = 4;
					bitl = 28;
					break;
				case 25:
					starti = 617;
					bytesl = 4;
					bitl = 28;
					break;
				case 26:
					starti = 621;
					bytesl = 4;
					bitl = 28;
					break;
				case 27:
					starti = 625;
					bytesl = 4;
					bitl = 28;
					break;
				case 28:
					starti = 629;
					bytesl = 4;
					bitl = 28;
					break;
				case 29:
					starti = 633;
					bytesl = 4;
					bitl = 28;
					break;
				case 30:
					starti = 637;
					bytesl = 4;
					bitl = 28;
					break;
				case 31:
					starti = 641;
					bytesl = 4;
					bitl = 28;
					break;
				case 127:
					starti = 645;
					bytesl = 4;
					bitl = 28;
					break;
				case 220:
					starti = 649;
					bytesl = 4;
					bitl = 28;
					break;
				case 249:
					starti = 653;
					bytesl = 4;
					bitl = 28;
					break;
				case 10:
					starti = 657;
					bytesl = 4;
					bitl = 30;
					break;
				case 13:
					starti = 661;
					bytesl = 4;
					bitl = 30;
					break;
				case 22:
					starti = 665;
					bytesl = 4;
					bitl = 30;
					break;
			}

			#endregion

			//无未写入完的位
			if (lastOffset == 0)
			{
				//这次写入后无剩余位
				if (bitl % 8 == 0)
				{
					for (int k = 0; k < bytesl; k++)
					{
						if (wi == resultLength) throw new IndexOutOfRangeException();

						result[wi++] = AllBytes[starti++];
					}
				}
				//这次写入后有剩余位
				else
				{
					for (int k = 0; k < bytesl - 1; k++)
					{
						if (wi == resultLength) throw new IndexOutOfRangeException();

						result[wi++] = AllBytes[starti++];
					}

					last = AllBytes[starti];
					lastOffset = bitl % 8;
				}
			}
			//上一次写入有未写入完的位
			else
			{
				byte localLast = last;
				int alstlength1 = lastOffset + bitl;

				//这次写入后无剩余位
				if (alstlength1 % 8 == 0)
				{
					for (int i = 0; i < alstlength1 / 8; i++)
					{
						if (wi == resultLength) throw new IndexOutOfRangeException();

						byte atbyte = AllBytes[starti++];
						result[wi++] = (byte)(localLast | (atbyte >> lastOffset));
						localLast = (byte)(atbyte << (8 - lastOffset));
					}

					lastOffset = 0;
				}
				//这次写入后有剩余位
				else
				{
					//与上一次写入的剩余位合并后不足一个字节
					if (alstlength1 < 8)
					{
						last = (byte)(last | (AllBytes[starti] >> lastOffset));
						lastOffset = alstlength1;
					}
					//与上一次写入的剩余位合并后至少有一个字节且有剩余位     无剩余位会在`这次写入后无剩余位`中被匹配
					else
					{
						for (int i = 0; i < alstlength1 / 8; i++)
						{
							if (wi == resultLength) throw new IndexOutOfRangeException();

							byte atbyte = AllBytes[starti++];
							result[wi++] = (byte)(localLast | (atbyte >> lastOffset));
							localLast = (byte)(atbyte << (8 - lastOffset));
						}

						last = localLast;
						lastOffset = alstlength1 % 8;
					}
				}
			}


			// Span<byte> data1 = new Span<byte>(allbytes, starti, bytesl);
			// if (lastOffset == 0)
			// {
			// 	if (bitl % 8 == 0)
			// 	{
			// 		for (int j1 = 0; j1 < bytesl; j1++) tdata.Add(data1[j1]);
			// 	}
			// 	else
			// 	{
			// 		int j2 = 0;
			// 		for (; j2 < bytesl - 1; j2++) tdata.Add(data1[j2]);
			//
			// 		last = data1[j2];
			// 		lastOffset = (byte)(bitl % 8);
			// 	}
			// }
			// else
			// {
			// 	byte alll = (byte)(lastOffset + bitl);
			// 	byte alldl = (byte)(alll / 8);
			// 	if (alll % 8 == 0)
			// 	{
			// 		byte nlast = last;
			// 		for (int j3 = 0; j3 < alldl; j3++)
			// 		{
			// 			tdata.Add((byte)(nlast | (data1[j3] >> lastOffset)));
			// 			nlast = (byte)(data1[j3] << (8 - lastOffset));
			// 		}
			//
			// 		lastOffset = 0;
			// 	}
			// 	else
			// 	{
			// 		byte nlast = last;
			// 		if (alldl == 0)
			// 		{
			// 			last |= (byte)(data1[0] >> lastOffset);
			// 			lastOffset = (byte)(lastOffset + bitl);
			// 		}
			// 		else
			// 		{
			// 			int j4 = 0;
			// 			for (; j4 < alldl; j4++)
			// 			{
			// 				tdata.Add((byte)(nlast | (data1[j4] >> lastOffset)));
			// 				nlast = (byte)(data1[j4] << (8 - lastOffset));
			// 			}
			//
			// 			// if (bytesl > alldl)
			// 			// {
			// 			// 	nlast |= (byte)(data1[j4] >> lastOffset);
			// 			// }
			// 			
			// 			last = nlast;
			// 			lastOffset = (byte)(alll % 8);
			// 		}
			//
			// 	}
			// }
		}

		if (lastOffset != 0)
		{
			if (wi == resultLength) throw new IndexOutOfRangeException();

#pragma warning disable CS8509 // switch 表达式不处理其输入类型的所有可能的值(它不是穷举)。例如，模式“0”未包含在内。
			byte b = lastOffset switch
			{
				1 => (byte)(last | 0b_01111111),
				2 => (byte)(last | 0b_00111111),
				3 => (byte)(last | 0b_00011111),
				4 => (byte)(last | 0b_00001111),
				5 => (byte)(last | 0b_00000111),
				6 => (byte)(last | 0b_00000011),
				7 => (byte)(last | 0b_00000001)
			};
#pragma warning restore CS8509 // switch 表达式不处理其输入类型的所有可能的值(它不是穷举)。例如，模式“0”未包含在内。
			//tdata.Add(b);
			result[wi++] = b;
		}


		return wi;
	}
}